# Интеграция календаря расписания врачей

## Что реализовано

✅ **Календарь интегрирован в CabinetResource**
- Календарь отображается на странице редактирования кабинета
- Использует плагин `saade/filament-fullcalendar`
- Поддерживает создание, редактирование и удаление смен врачей

## Функционал календаря

### Отображение смен
- Смены отображаются в календаре с цветовой кодировкой по врачам
- Показывается имя врача и время смены
- Поддерживаются виды: месяц, неделя, день, список

### Создание смены
1. Кликните на свободное время в календаре
2. Выберите врача из списка (только врачи из филиала кабинета)
3. Укажите время начала и окончания смены
4. Установите длительность слота (15-120 минут)
5. Сохраните смену

### Редактирование смены
1. Кликните на существующую смену в календаре
2. Измените параметры (врач, время, длительность слота)
3. Сохраните изменения

### Удаление смены
1. Откройте смену для редактирования
2. Нажмите кнопку "Удалить"
3. Подтвердите удаление

## Технические детали

### Модели
- `Cabinet` - кабинеты
- `DoctorShift` - смены врачей
- `Doctor` - врачи
- `Branch` - филиалы

### Связи
- Кабинет принадлежит филиалу
- Филиал имеет много врачей (M:M)
- Смена принадлежит кабинету и врачу

### Виджет
- `CabinetScheduleWidget` - основной виджет календаря
- Автоматически получает ID кабинета из URL
- Фильтрует врачей по филиалу кабинета

## Настройки календаря

- **Рабочие часы**: 08:00 - 20:00
- **Длительность слота**: 30 минут (по умолчанию)
- **Шаг времени**: 15 минут
- **Первый день недели**: Понедельник
- **Локализация**: Русский язык

## Доступ к календарю

1. Войдите в админ-панель: http://127.0.0.1:8000/admin
2. Перейдите в раздел "Кабинеты"
3. Откройте любой кабинет для редактирования
4. Календарь отобразится в верхней части страницы

## Тестовые данные

Созданы тестовые смены:
- Сегодня: 09:00-17:00 (30 мин слоты)
- Завтра: 10:00-18:00 (45 мин слоты)

## Возможные улучшения

- Добавить валидацию пересечений смен
- Реализовать повторяющиеся смены
- Добавить уведомления о конфликтах
- Интегрировать с системой записи пациентов
